# Template file for 'rtl8192eu-dkms'
pkgname=rtl8192eu-dkms
version=2022.12.29
revision=1
_gitrev=865656c3a1d1aee8c4ba459ce7608756d17c712f
wrksrc="rtl8192eu-linux-driver-${_gitrev}"
depends="dkms bc"
short_desc="Realtek 8192EU USB WiFi driver (DKMS)"
maintainer="Phicem <phicem@gmx.com>"
license="GPL-2.0-only"
homepage="https://github.com/clnhub/rtl8192eu-linux"
distfiles="https://github.com/clnhub/rtl8192eu-linux/archive/${_gitrev}.tar.gz"
checksum=72d1d97c6d2038885e5666f3271609b4dcbe45633c19a5606dc59745ff8ab543
dkms_modules="rtl8192eu ${version}"

do_install() {
	local dest=/usr/src/rtl8192eu-${_modver}

	vmkdir ${dest}
	cp -r dkms.conf Kconfig Makefile platform core hal include os_dep ${DESTDIR}/${dest}

	# modules-load.d(5) file.
	vmkdir usr/lib/modules-load.d
	echo "8192eu" > ${DESTDIR}/usr/lib/modules-load.d/${pkgname}.conf
	chmod 644 ${DESTDIR}/usr/lib/modules-load.d/${pkgname}.conf
}
